% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/simulate.R
\name{simulate}
\alias{simulate}
\title{simulate() Function}
\usage{
simulate(n_gates = 3L, n_basic = 8L, p_range = c(0.01, 0.2), seed = NULL)
}
\arguments{
\item{n_gates}{(Optional) Integer specifying the desired number of internal gates. Default is \code{3L}. The actual number of gates may be reduced if \code{n_basic} is insufficient to provide at least two basic events per gate.}

\item{n_basic}{(Optional) Integer specifying the number of basic events (leaf nodes) in the fault tree. Default is \code{8L}. Must be at least 1.}

\item{p_range}{(Optional) Numeric vector of length 2 specifying the minimum and maximum probability values for basic events. Default is \code{c(0.01, 0.2)}. Must satisfy \verb{0 < p_range[1] < p_range[2] < 1}.}

\item{seed}{(Optional) Integer seed for random number generation to ensure reproducibility. Default is \code{NULL} (no seed set).}
}
\value{
A list with three components:
\itemize{
\item \code{nodes}: Data frame with columns \code{id}, \code{event}, and \code{type}. Contains one top event (type \code{"top"}), \code{n_gates_eff} internal gates (type \code{"and"} or \code{"or"}), and \code{n_basic} basic events (type \code{"not"}). The \code{type} column is a factor with levels \code{c("top", "and", "or", "not")}.
\item \code{edges}: Data frame with columns \code{from} and \code{to}, representing connections between nodes. The top event connects to all gates, and gates connect to their assigned basic events.
\item \code{prob}: Data frame with columns \code{event} and \code{probability}, containing probability values for each basic event, sampled uniformly from \code{p_range}.
}
}
\description{
This function \emph{simulates} a fault tree structure with nodes, edges, and basic event probabilities. Generates a valid fault tree with one top event, multiple gates (AND/OR), and basic events, ensuring each gate has at least two input events.
}
\details{
This function generates a valid fault tree structure suitable for use with other \code{tidyfault} functions:
\itemize{
\item \strong{Gate constraint}: Each gate (AND/OR) is guaranteed to have at least two input events. If \code{n_basic < 2 * n_gates}, the number of gates is automatically reduced to \code{floor(n_basic / 2)}.
\item \strong{Degenerate case}: If \code{n_basic < 2}, no internal gates are created; the top event connects directly to all basic events.
\item \strong{Gate types}: Gate types (AND/OR) are randomly assigned using \code{sample()}.
\item \strong{Event allocation}: Basic events are allocated to gates such that each gate receives at least two events, with any remaining events randomly distributed.
\item \strong{Event naming}: Top event is named \code{"T"}, gates are named \code{"G1"}, \code{"G2"}, etc., and basic events are named \code{"E1"}, \code{"E2"}, etc.
}
The generated fault tree can be used directly with \code{curate()}, \code{equate()}, \code{formulate()}, and other \code{tidyfault} workflow functions.
}
\examples{

# Load dependencies
library(tidyfault)

# Simulate a fault tree with default parameters
sim <- simulate(n_gates = 4L, n_basic = 10L, seed = 12345)
sim$nodes
sim$edges
sim$prob

# Use the simulated tree in the tidyfault workflow
gates <- curate(nodes = sim$nodes, edges = sim$edges)
equation <- equate(gates)
formula <- formulate(equation)
cutsets <- concentrate(gates)

# Simulate a larger tree
sim_large <- simulate(n_gates = 10L, n_basic = 25L, 
                     p_range = c(0.05, 0.3), seed = 42)

}
\seealso{
\code{\link{curate}} for processing the simulated nodes and edges, \code{\link{illustrate}} for visualizing the generated fault tree structure
}
\keyword{fault}
\keyword{simulation}
\keyword{tree}
